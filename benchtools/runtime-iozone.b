# Runtime, IOzone only (autogenerated, do not edit!)

RESULTDIR=/home/ingo/memtester/results/runtime-iozone-2012-09-29
REPODIR=/home/ingo/memtester/rampage
SCRIPTDIR=<REPODIR>/benchtools
INFINITESCRIPTS=<SCRIPTDIR>/infinite
KERNELDIR=/home/ingo/memtester/bench/linux-2.6.35

IOZONEARGS=1500m 4k 8k 16k 32k 64k 128k 256k 512k
COREMARKARGS=/home/ingo/memtester/bench/coremark_v1.0 4 1000000
TBENCHARGS=1 32
MTARGS_FULL=-a blockwise --run-time 86400 --retest-time 2 -4 -t mt86\* -f 100
MTARGS_SLOW=-a slow --run-time 86400 --retest-time 2 -4 -t mt86\* -f 100 --frames-per-check 1024
KERNELCONFIG=allmodconfig
KERNELPARALLEL=8

CLEANUP=<SCRIPTDIR>/cleanup-logs.sh
SLEEPTIME=3600

ENERGY_SERVER=129.217.43.53
ENERGY_PORT=4444

run mkdir -p <RESULTDIR>
iterate 5000
# ================= bench: iozone =================
# ----------------- speed: none -----------------
# no claimer
reboot
run <CLEANUP>
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-none-none-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-none-none-<ITERATION>-OK

# ----------------- speed: slow -----------------
# claimer=b
reboot
run <CLEANUP>
run <SCRIPTDIR>/start-memtest.sh <REPODIR> <MTARGS_SLOW> --logfile <RESULTDIR>/framelog-runtime-iozone-slow-b-<ITERATION> --enable-p4-claimers=buddy
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-slow-b-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-slow-b-<ITERATION>-OK

# claimer=bh
reboot
run <CLEANUP>
run <SCRIPTDIR>/start-memtest.sh <REPODIR> <MTARGS_SLOW> --logfile <RESULTDIR>/framelog-runtime-iozone-slow-bh-<ITERATION> --enable-p4-claimers=buddy,hotplug-claim
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-slow-bh-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-slow-bh-<ITERATION>-OK

# claimer=bhs
reboot
run <CLEANUP>
run <SCRIPTDIR>/start-memtest.sh <REPODIR> <MTARGS_SLOW> --logfile <RESULTDIR>/framelog-runtime-iozone-slow-bhs-<ITERATION> --enable-p4-claimers=buddy,hotplug-claim,shaking
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-slow-bhs-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-slow-bhs-<ITERATION>-OK

# ----------------- speed: full -----------------
# claimer=b
reboot
run <CLEANUP>
run <SCRIPTDIR>/start-memtest.sh <REPODIR> <MTARGS_FULL> --logfile <RESULTDIR>/framelog-runtime-iozone-full-b-<ITERATION> --enable-p4-claimers=buddy
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-full-b-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-full-b-<ITERATION>-OK

# claimer=bh
reboot
run <CLEANUP>
run <SCRIPTDIR>/start-memtest.sh <REPODIR> <MTARGS_FULL> --logfile <RESULTDIR>/framelog-runtime-iozone-full-bh-<ITERATION> --enable-p4-claimers=buddy,hotplug-claim
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-full-bh-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-full-bh-<ITERATION>-OK

# claimer=bhs
reboot
run <CLEANUP>
run <SCRIPTDIR>/start-memtest.sh <REPODIR> <MTARGS_FULL> --logfile <RESULTDIR>/framelog-runtime-iozone-full-bhs-<ITERATION> --enable-p4-claimers=buddy,hotplug-claim,shaking
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-full-bhs-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-full-bhs-<ITERATION>-OK

# ----------------- speed: burn -----------------
# no claimer but cpuburn
reboot
run <CLEANUP>
run <SCRIPTDIR>/start-cpuburn.sh
run <SCRIPTDIR>/run-iozone.sh <RESULTDIR>/runtime-iozone-burn-none-<ITERATION> <IOZONEARGS>
run date > <RESULTDIR>/runtime-iozone-burn-none-<ITERATION>-OK

enditer
reboot
